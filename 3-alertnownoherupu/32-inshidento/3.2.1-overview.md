# 3.2.1 Overview

インシデントメニューを利用して各サービスで発生したアラート及びインシデントリストを確認できます。ユーザーはインシデントメニューを利用して処理すべき問題を確認し、各イシューの処理状態を記録できます。

<figure><img src="../../.gitbook/assets/image (287).png" alt=""><figcaption></figcaption></figure>



## **アラート**

Amazon CloudWatch、Microsoft Azureなどのモニタリングツールやその他のサービスで発生した通知を、インテグレーション設定により通知イベントを受信した場合、それをアラートとして作成します。

●    アラートはシステムデータであり、ユーザーが任意にデータを変更する、または作成されたアラートを削除することはできません。

●    アラートを基準としてインシデントを作成します。すべてのアラートをインシデントで作成しなければ、インシデント作成ルールに合致するアラートに限ってインシデントとして作成します。

●    アラートはユーザーに通知を伝達せず、該当アラートによってインシデントが作成されるとユーザーに通知を伝達します。



## **インシデント**

アラートが収集されると、事前に設定したインシデント作成ルールによってインシデントが作成されます。インシデント作成の後、ユーザーはインシデントの処理状況を記録したり、エスカレーションによってお知らせを受け取れます。



ユーザーはインシデントを利用して次を遂行できます。



●    リリース、DB作業、インフラ作業、セキュリティ作業などの特定状況によってメンテナンス日程を設定でき、設定した期間の間にはインシデントが発生しません。メンテナンス状態で発生したアラートは「作成なし(メンテナンス日程)」状態で保存され、メンテナンス日程により該当アラートのインシデントが作成されなかったことを確認できます。

●    アラートが作成されない状態でもマニュアルでインシデントを作成できます。

●    インシデントが作成されたアラートを他のインシデントと接続できます。(追ってサポート予定)

それ以外に重複するインシデント作成を防止するために「正常化通知受信」、「未終了インシデント作成制限」、「作成制限ルール」などの機能を提供しています。



1.  正常化通知受信

    \
    閾値設定によってインシデントが作成されており、インスタンス状態が正常に戻ると今までに作成されたインシデントを自動終了します。

<figure><img src="../../.gitbook/assets/image (288).png" alt=""><figcaption></figcaption></figure>



2.  未終了インシデント作成制限

    \
    CloudWatchで受信された通知のうち、CloudWatchアラーム名、ディメンション情報がすべて同じ未終了インシデントが存在する場合、作成が制限されます。

<figure><img src="../../.gitbook/assets/image (289).png" alt=""><figcaption></figcaption></figure>



{% hint style="info" %}
**CloudWatchが提供するディメンション情報**\
InstanceId, ApiName, Fleet, ServiceName, DistributionId, ClientId, RuleName, LogGroupName, ConnectionId, DBInstanceIdentifier, VolumeId, FileSystemId, LoadBalancerName, AutoScalingGroupName, ActionType, ClientId, PipelineId, JobId, Flow, StreamName, KeyId, FunctionName, BotName, MLModelId, Broker, HealthCheckId, Host, TopicName, QueueName, BucketName, AttackVector, LambdaFunctionArn, Domain, GatewayId, ServiceName, NatGatewayId, VpnId, Rule, WorkspaceId
{% endhint %}



3. 作成制限ルール

「未終了インシデント作成制限」で分類できないアラートについて、サービスで設定したルールを適用して作成を制限します。条件項目(Alert Summary, Alert Metric Name)が連続して発生する場合、期間を設定してインシデントの重複作成を防止できます。但し、終了していないインシデントがなければなりません。



4. 遅延の作成ルール機能は、同じ通知が連続して発生した場合、ユーザーが設定した期間と回数を超えるまではインシデントを作成せずに遅延させる機能です。AlertNowのサービス作成画面で設定でき、期間は秒、分、時間(最大1時間)で設定できます。最大1時間、最大5回まで指定できます。



## **アラートとインシデントの関係**

上の内容を総合すると、アラートとインシデントは次の関係になります。



**⑴ アラート基準**

| **インシデント作成** | アラート：作成されたインシデント | \[ 1 : 1 ] |
| ------------ | ---------------- | ---------- |
| **発生インシデント** | アラート：発生インシデント    | \[ 1 : N ] |



**⑵ インシデント基準**

| **作成基準アラート**  | インシデント：アラート      | \[ 1 : 1 ] |
| ------------- | ---------------- | ---------- |
| **インシデントマージ** | 準インシデント：従属インシデント | \[ 1 : N ] |
| **関連インシデント**  | インシデント：関連インシデント  | \[ 1 : N ] |

